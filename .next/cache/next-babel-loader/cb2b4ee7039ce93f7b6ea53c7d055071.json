{"ast":null,"code":"const express = require('express'),\n      passport = require('passport'),\n      FacebookStrategy = require('passport-facebook').Strategy,\n      session = require('express-session'),\n      cookieParser = require('cookie-parser'),\n      bodyParser = require('body-parser'),\n      app = express();\n\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\n\napp.use(passport.initialize());\napp.use(passport.session());\napp.use(bodyParser.json());\napp.use(bodyParser.urlencoded({\n  extended: true\n})); // Passport session setup.\n\npassport.serializeUser(function (user, done) {\n  done(null, user);\n});\npassport.deserializeUser(function (obj, done) {\n  done(null, obj);\n}); // Use the FacebookStrategy within Passport.\n\npassport.use(new FacebookStrategy({\n  clientID: '2264027293896025',\n  clientSecret: '5c231ad93ca6151bb56d1ba97138c882',\n  callbackURL: 'http://localhost:3000/auth/facebook/callback',\n  profileFields: ['id', 'email', 'displayName']\n}, function (accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    //Check whether the User exists or not using profile.id  \n    console.log(profile.id);\n    console.log(profile.displayName);\n    console.log(profile.emails[0].value);\n    return done(null, profile);\n  });\n}));\npassport.use(new GoogleStrategy({\n  clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\n  clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\n  callbackURL: \"http://localhost:3000/auth/google/callback\",\n  passReqToCallback: true\n}, function (request, accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    //Check whether the User exists or not using profile.id\n    console.log(profile.id);\n    console.log(profile.displayName);\n    console.log(profile.email);\n    return done(null, profile);\n  });\n}));\n\nfunction login() {\n  app.get('/auth/facebook', passport.authenticate('facebook', {\n    scope: 'public_profile,email,user_friends,user_posts'\n  }));\n  app.get('/auth/facebook/callback', passport.authenticate('facebook', {\n    successRedirect: 'http://localhost:3000',\n    failureRedirect: '/login'\n  }));\n  app.get('/auth/google', passport.authenticate('google', {\n    scope: ['https://www.googleapis.com/auth/plus.login', 'https://www.googleapis.com/auth/userinfo.email', 'https://www.googleapis.com/auth/userinfo.profile']\n  }));\n  app.get('/auth/google/callback', passport.authenticate('google', {\n    successRedirect: 'http://localhost:3000',\n    failureRedirect: '/login'\n  }));\n}","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/utils/social.js"],"names":["express","require","passport","FacebookStrategy","Strategy","session","cookieParser","bodyParser","app","GoogleStrategy","use","initialize","json","urlencoded","extended","serializeUser","user","done","deserializeUser","obj","clientID","clientSecret","callbackURL","profileFields","accessToken","refreshToken","profile","process","nextTick","console","log","id","displayName","emails","value","passReqToCallback","request","email","login","get","authenticate","scope","successRedirect","failureRedirect"],"mappings":"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","sourcesContent":["const express = require('express'),\r\n    passport = require('passport'),\r\n    FacebookStrategy = require('passport-facebook').Strategy,\r\n    session = require('express-session'),\r\n    cookieParser = require('cookie-parser'),\r\n    bodyParser = require('body-parser'),\r\n    app = express();\r\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\r\n\r\napp.use(passport.initialize());\r\n\r\napp.use(passport.session());\r\n\r\napp.use(bodyParser.json());\r\n\r\napp.use(bodyParser.urlencoded({\r\n    extended: true\r\n}));\r\n\r\n// Passport session setup.\r\npassport.serializeUser(function (user, done) {\r\n    done(null, user);\r\n});\r\n\r\npassport.deserializeUser(function (obj, done) {\r\n    done(null, obj);\r\n});\r\n\r\n// Use the FacebookStrategy within Passport.\r\npassport.use(new FacebookStrategy({\r\n    clientID: '2264027293896025',\r\n    clientSecret: '5c231ad93ca6151bb56d1ba97138c882',\r\n    callbackURL: 'http://localhost:3000/auth/facebook/callback',\r\n    profileFields: ['id', 'email', 'displayName']\r\n},\r\n    function (accessToken, refreshToken, profile, done) {\r\n        process.nextTick(function () {\r\n            //Check whether the User exists or not using profile.id  \r\n            console.log(profile.id);\r\n            console.log(profile.displayName);\r\n            console.log(profile.emails[0].value);\r\n            return done(null, profile);\r\n        });\r\n    }\r\n));\r\n\r\n\r\npassport.use(new GoogleStrategy({\r\n    clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\r\n    clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\r\n    callbackURL: \"http://localhost:3000/auth/google/callback\",\r\n    passReqToCallback: true\r\n},\r\n    function (request, accessToken, refreshToken, profile, done) {\r\n        process.nextTick(function () {\r\n            //Check whether the User exists or not using profile.id\r\n            console.log(profile.id);\r\n            console.log(profile.displayName);\r\n            console.log(profile.email);\r\n            return done(null, profile);\r\n        });\r\n    }\r\n));\r\n\r\n\r\nfunction login() {\r\n\r\n    app.get('/auth/facebook',\r\n        passport.authenticate('facebook', {\r\n            scope: 'public_profile,email,user_friends,user_posts'\r\n        })\r\n    );\r\n\r\n    app.get('/auth/facebook/callback',\r\n        passport.authenticate('facebook', {\r\n            successRedirect: 'http://localhost:3000',\r\n            failureRedirect: '/login'\r\n        })\r\n    );\r\n\r\n\r\n    app.get('/auth/google',\r\n        passport.authenticate('google', {\r\n            scope:\r\n                ['https://www.googleapis.com/auth/plus.login',\r\n                    'https://www.googleapis.com/auth/userinfo.email',\r\n                    'https://www.googleapis.com/auth/userinfo.profile']\r\n        })\r\n    );\r\n\r\n    app.get('/auth/google/callback',\r\n        passport.authenticate('google', {\r\n            successRedirect: 'http://localhost:3000',\r\n            failureRedirect: '/login'\r\n        })\r\n    );\r\n\r\n}\r\n\r\n"]},"metadata":{},"sourceType":"script"}