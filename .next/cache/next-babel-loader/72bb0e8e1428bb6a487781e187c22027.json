{"ast":null,"code":"import nextConnect from 'next-connect';\n\nconst passport = require('passport');\n\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\n\nconst handler = nextConnect();\npassport.use(new GoogleStrategy({\n  clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\n  clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\n  callbackURL: \"http://localhost:3000/auth/google/callback\",\n  passReqToCallback: true\n}, function (request, accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    //Check whether the User exists or not using profile.id\n    console.log(profile.id);\n    console.log(profile.displayName);\n    console.log(profile.email);\n    return done(null, profile);\n  });\n}));\nhandler.get(passport.authenticate(\"google\", {\n  scope: ['profile', 'email'],\n  successRedirect: '/',\n  failureRedirect: '/login'\n}));\nexport default handler;","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/pages/api/auth/google.js"],"names":["nextConnect","passport","require","GoogleStrategy","Strategy","handler","use","clientID","clientSecret","callbackURL","passReqToCallback","request","accessToken","refreshToken","profile","done","process","nextTick","console","log","id","displayName","email","get","authenticate","scope","successRedirect","failureRedirect"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,cAAxB;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,cAAc,GAAGD,OAAO,CAAC,wBAAD,CAAP,CAAkCE,QAAzD;;AAGA,MAAMC,OAAO,GAAGL,WAAW,EAA3B;AAEAC,QAAQ,CAACK,GAAT,CAAa,IAAIH,cAAJ,CAAmB;AAC5BI,EAAAA,QAAQ,EAAE,yEADkB;AAE5BC,EAAAA,YAAY,EAAE,0BAFc;AAG5BC,EAAAA,WAAW,EAAE,4CAHe;AAI5BC,EAAAA,iBAAiB,EAAE;AAJS,CAAnB,EAMT,UAAUC,OAAV,EAAmBC,WAAnB,EAAgCC,YAAhC,EAA8CC,OAA9C,EAAuDC,IAAvD,EAA6D;AACzDC,EAAAA,OAAO,CAACC,QAAR,CAAiB,YAAY;AACzB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACM,EAApB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACO,WAApB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACQ,KAApB;AACA,WAAOP,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAX;AACH,GAND;AAOH,CAdQ,CAAb;AAkBAT,OAAO,CAACkB,GAAR,CAAYtB,QAAQ,CAACuB,YAAT,CAAsB,QAAtB,EAAgC;AACxCC,EAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,OAAZ,CADiC;AAExCC,EAAAA,eAAe,EAAE,GAFuB;AAGxCC,EAAAA,eAAe,EAAE;AAHuB,CAAhC,CAAZ;AAQA,eAAetB,OAAf","sourcesContent":["import nextConnect from 'next-connect'\r\nconst passport = require('passport');\r\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\r\n\r\n\r\nconst handler = nextConnect()\r\n\r\npassport.use(new GoogleStrategy({\r\n    clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\r\n    clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\r\n    callbackURL: \"http://localhost:3000/auth/google/callback\",\r\n    passReqToCallback: true\r\n},\r\n    function (request, accessToken, refreshToken, profile, done) {\r\n        process.nextTick(function () {\r\n            //Check whether the User exists or not using profile.id\r\n            console.log(profile.id);\r\n            console.log(profile.displayName);\r\n            console.log(profile.email);\r\n            return done(null, profile);\r\n        });\r\n    }\r\n));\r\n\r\n\r\nhandler.get(passport.authenticate(\"google\", {\r\n    scope: ['profile', 'email'],\r\n    successRedirect: '/',\r\n    failureRedirect: '/login' \r\n}))\r\n\r\n\r\n\r\nexport default handler"]},"metadata":{},"sourceType":"module"}