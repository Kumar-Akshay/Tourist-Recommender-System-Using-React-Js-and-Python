{"ast":null,"code":"import nextConnect from 'next-connect';\n\nvar passport = require('passport');\n\nvar GoogleStrategy = require('passport-google-oauth2').Strategy;\n\nvar handler = nextConnect();\npassport.use(new GoogleStrategy({\n  clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\n  clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\n  callbackURL: \"http://localhost:3000/auth/google/callback\",\n  passReqToCallback: false\n}, function (request, accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    //Check whether the User exists or not using profile.id\n    console.log(profile.id);\n    console.log(profile.displayName);\n    console.log(profile.email);\n    return done(null, profile);\n  });\n}));\nhandler.use(passport.initialize());\nhandler.get(passport.authenticate(\"google\", {\n  scope: ['profile', 'email'] // tailer the scope to fit your needs\n\n}));\nhandler.get('/api/auth/google/callback', passport.authenticate('google', {\n  successRedirect: \"http://localhost:3000/login\",\n  failureRedirect: \"http://localhost:3000/login\"\n}));\nexport default handler;","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/pages/auth/google.js"],"names":["nextConnect","passport","require","GoogleStrategy","Strategy","handler","use","clientID","clientSecret","callbackURL","passReqToCallback","request","accessToken","refreshToken","profile","done","process","nextTick","console","log","id","displayName","email","initialize","get","authenticate","scope","successRedirect","failureRedirect"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,cAAxB;;AACA,IAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,IAAMC,cAAc,GAAGD,OAAO,CAAC,wBAAD,CAAP,CAAkCE,QAAzD;;AAGA,IAAMC,OAAO,GAAGL,WAAW,EAA3B;AAGAC,QAAQ,CAACK,GAAT,CAAa,IAAIH,cAAJ,CAAmB;AAC5BI,EAAAA,QAAQ,EAAE,yEADkB;AAE5BC,EAAAA,YAAY,EAAE,0BAFc;AAG5BC,EAAAA,WAAW,EAAE,4CAHe;AAI5BC,EAAAA,iBAAiB,EAAE;AAJS,CAAnB,EAMT,UAAUC,OAAV,EAAmBC,WAAnB,EAAgCC,YAAhC,EAA8CC,OAA9C,EAAuDC,IAAvD,EAA6D;AACzDC,EAAAA,OAAO,CAACC,QAAR,CAAiB,YAAY;AACzB;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACM,EAApB;AACAF,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACO,WAApB;AACAH,IAAAA,OAAO,CAACC,GAAR,CAAYL,OAAO,CAACQ,KAApB;AACA,WAAOP,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAX;AACH,GAND;AAOH,CAdQ,CAAb;AAkBAT,OAAO,CAACC,GAAR,CAAYL,QAAQ,CAACsB,UAAT,EAAZ;AAGAlB,OAAO,CAACmB,GAAR,CAAYvB,QAAQ,CAACwB,YAAT,CAAsB,QAAtB,EAAgC;AACxCC,EAAAA,KAAK,EAAE,CAAC,SAAD,EAAY,OAAZ,CADiC,CACZ;;AADY,CAAhC,CAAZ;AAIArB,OAAO,CAACmB,GAAR,CAAY,2BAAZ,EACIvB,QAAQ,CAACwB,YAAT,CAAsB,QAAtB,EAAgC;AAC5BE,EAAAA,eAAe,EAAE,6BADW;AAE5BC,EAAAA,eAAe,EAAE;AAFW,CAAhC,CADJ;AASA,eAAevB,OAAf","sourcesContent":["import nextConnect from 'next-connect'\r\nconst passport = require('passport');\r\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\r\n\r\n\r\nconst handler = nextConnect()\r\n\r\n\r\npassport.use(new GoogleStrategy({\r\n    clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\r\n    clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\r\n    callbackURL: \"http://localhost:3000/auth/google/callback\",\r\n    passReqToCallback: false\r\n},\r\n    function (request, accessToken, refreshToken, profile, done) {\r\n        process.nextTick(function () {\r\n            //Check whether the User exists or not using profile.id\r\n            console.log(profile.id);\r\n            console.log(profile.displayName);\r\n            console.log(profile.email);\r\n            return done(null, profile);\r\n        });\r\n    }\r\n));\r\n\r\n\r\nhandler.use(passport.initialize());\r\n\r\n\r\nhandler.get(passport.authenticate(\"google\", {\r\n    scope: ['profile', 'email'] // tailer the scope to fit your needs\r\n}))\r\n\r\nhandler.get('/api/auth/google/callback',\r\n    passport.authenticate('google', {\r\n        successRedirect: \"http://localhost:3000/login\",\r\n        failureRedirect: \"http://localhost:3000/login\"\r\n    }\r\n    )\r\n);\r\n\r\n\r\nexport default handler"]},"metadata":{},"sourceType":"module"}