{"ast":null,"code":"import nextConnect from 'next-connect';\n\nconst passport = require('passport');\n\nconst FacebookStrategy = require('passport-facebook').Strategy;\n\nconst handler = nextConnect(); // Use the FacebookStrategy within Passport.\n\npassport.use(new FacebookStrategy({\n  clientID: '2264027293896025',\n  clientSecret: '5c231ad93ca6151bb56d1ba97138c882',\n  callbackURL: 'http://localhost:3000/auth/facebook/callback',\n  profileFields: ['id', 'email', 'displayName']\n}, function (accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    const {\n      id,\n      displayName\n    } = profile;\n    console.log(id);\n    console.log(displayName);\n    console.log(profile.emails[0].value);\n    return done(null, profile);\n  });\n}));\nhandler.get(passport.authenticate('facebook', {\n  scope: 'public_profile,email,user_friends,user_posts'\n}));\nhandler.get('/auth/facebook/callback', passport.authenticate('facebook', {\n  successRedirect: '/',\n  failureRedirect: '/login'\n}));\nexport default handler;","map":{"version":3,"sources":["C:/Users/Samee/Desktop/Portfolio/react-reserve-master/pages/api/auth/facebook.js"],"names":["nextConnect","passport","require","FacebookStrategy","Strategy","handler","use","clientID","clientSecret","callbackURL","profileFields","accessToken","refreshToken","profile","done","process","nextTick","id","displayName","console","log","emails","value","get","authenticate","scope","successRedirect","failureRedirect"],"mappings":"AAAA,OAAOA,WAAP,MAAwB,cAAxB;;AACA,MAAMC,QAAQ,GAAGC,OAAO,CAAC,UAAD,CAAxB;;AACA,MAAMC,gBAAgB,GAAGD,OAAO,CAAC,mBAAD,CAAP,CAA6BE,QAAtD;;AAEA,MAAMC,OAAO,GAAGL,WAAW,EAA3B,C,CAEA;;AACAC,QAAQ,CAACK,GAAT,CAAa,IAAIH,gBAAJ,CAAqB;AAC9BI,EAAAA,QAAQ,EAAE,kBADoB;AAE9BC,EAAAA,YAAY,EAAE,kCAFgB;AAG9BC,EAAAA,WAAW,EAAE,8CAHiB;AAI9BC,EAAAA,aAAa,EAAE,CAAC,IAAD,EAAO,OAAP,EAAgB,aAAhB;AAJe,CAArB,EAMT,UAAUC,WAAV,EAAuBC,YAAvB,EAAqCC,OAArC,EAA8CC,IAA9C,EAAoD;AAChDC,EAAAA,OAAO,CAACC,QAAR,CAAiB,YAAY;AACzB,UAAM;AAAEC,MAAAA,EAAF;AAAMC,MAAAA;AAAN,QAAsBL,OAA5B;AACAM,IAAAA,OAAO,CAACC,GAAR,CAAYH,EAAZ;AACAE,IAAAA,OAAO,CAACC,GAAR,CAAYF,WAAZ;AACAC,IAAAA,OAAO,CAACC,GAAR,CAAYP,OAAO,CAACQ,MAAR,CAAe,CAAf,EAAkBC,KAA9B;AACA,WAAOR,IAAI,CAAC,IAAD,EAAOD,OAAP,CAAX;AACH,GAND;AAOH,CAdQ,CAAb;AAkBAR,OAAO,CAACkB,GAAR,CAAYtB,QAAQ,CAACuB,YAAT,CAAsB,UAAtB,EAAkC;AAAEC,EAAAA,KAAK,EAAE;AAAT,CAAlC,CAAZ;AAEApB,OAAO,CAACkB,GAAR,CAAY,yBAAZ,EACItB,QAAQ,CAACuB,YAAT,CAAsB,UAAtB,EAAkC;AAC9BE,EAAAA,eAAe,EAAE,GADa;AAE9BC,EAAAA,eAAe,EAAE;AAFa,CAAlC,CADJ;AAQA,eAAetB,OAAf","sourcesContent":["import nextConnect from 'next-connect'\r\nconst passport = require('passport');\r\nconst FacebookStrategy = require('passport-facebook').Strategy;\r\n\r\nconst handler = nextConnect()\r\n\r\n// Use the FacebookStrategy within Passport.\r\npassport.use(new FacebookStrategy({\r\n    clientID: '2264027293896025',\r\n    clientSecret: '5c231ad93ca6151bb56d1ba97138c882',\r\n    callbackURL: 'http://localhost:3000/auth/facebook/callback',\r\n    profileFields: ['id', 'email', 'displayName']\r\n},\r\n    function (accessToken, refreshToken, profile, done) {\r\n        process.nextTick(function () {\r\n            const { id, displayName } = profile;\r\n            console.log(id);\r\n            console.log(displayName);\r\n            console.log(profile.emails[0].value);\r\n            return done(null, profile);\r\n        });\r\n    }\r\n));\r\n\r\n\r\nhandler.get(passport.authenticate('facebook', { scope: 'public_profile,email,user_friends,user_posts' }));\r\n\r\nhandler.get('/auth/facebook/callback',\r\n    passport.authenticate('facebook', {\r\n        successRedirect: '/',\r\n        failureRedirect: '/login'\r\n    }),\r\n);\r\n\r\n\r\nexport default handler"]},"metadata":{},"sourceType":"module"}