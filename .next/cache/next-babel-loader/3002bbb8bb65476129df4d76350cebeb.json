{"ast":null,"code":"import nextConnect from 'next-connect';\n\nconst passport = require('passport');\n\nconst GoogleStrategy = require('passport-google-oauth2').Strategy;\n\nconst handler = nextConnect();\npassport.use(new GoogleStrategy({\n  clientID: \"15625499876-fpnmi7emctu164oed213atj3hunaae2h.apps.googleusercontent.com\",\n  clientSecret: \"ubhRFrrv8iDNo6XIIn82so1X\",\n  callbackURL: \"http://localhost:3000/api/auth/google/callback\",\n  passReqToCallback: true\n}, function (request, accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    //Check whether the User exists or not using profile.id\n    console.log(profile.id);\n    console.log(profile.displayName);\n    console.log(profile.email);\n    return done(null, profile);\n  });\n}));\nhandler.use(passport.initialize());\nhandler.get(passport.authenticate(\"google\", {\n  scope: ['profile', 'email'] // tailer the scope to fit your needs\n\n}));\nhandler.get('/api/auth/google/callback', passport.authenticate('google', {\n  successRedirect: \"http://localhost:3000/login\",\n  failureRedirect: \"http://localhost:3000/login\"\n}));\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}