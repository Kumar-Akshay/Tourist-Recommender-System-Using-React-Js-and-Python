{"ast":null,"code":"import nextConnect from 'next-connect';\n\nconst passport = require('passport');\n\nconst FacebookStrategy = require('passport-facebook').Strategy;\n\nconst handler = nextConnect();\nhandler.use(passport.initialize()); // Use the FacebookStrategy within Passport.\n\npassport.use(new FacebookStrategy({\n  clientID: '2264027293896025',\n  clientSecret: '5c231ad93ca6151bb56d1ba97138c882',\n  callbackURL: 'http://localhost:3000/auth/facebook/callback',\n  profileFields: ['id', 'email', 'displayName']\n}, function (accessToken, refreshToken, profile, done) {\n  process.nextTick(function () {\n    const {\n      id,\n      displayName\n    } = profile;\n    console.log(id);\n    console.log(displayName);\n    console.log(profile.emails[0].value);\n    return done(null, profile);\n  });\n}));\nhandler.get(passport.authenticate('facebook', {\n  scope: 'public_profile,email,user_friends,user_posts'\n})); // handler.get('/auth/facebook/callback',\n//     passport.authenticate('facebook', {\n//         successRedirect: '/',\n//         failureRedirect: '/login'\n//     }),\n// );\n\nexport default handler;","map":null,"metadata":{},"sourceType":"module"}